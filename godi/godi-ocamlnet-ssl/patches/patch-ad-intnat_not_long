--- ./src/netsys/netsys_c.c
+++ ./src/netsys/netsys_c.c
@@ -12,9 +12,9 @@
 #ifdef _WIN32
     switch (Descr_kind_val(fd)) {
     case KIND_HANDLE:
-	return copy_int64((long) (Handle_val(fd)));
+	return copy_int64((intnat) (Handle_val(fd)));
     case KIND_SOCKET:
-	return copy_int64((long) (Socket_val(fd)));
+	return copy_int64((intnat) (Socket_val(fd)));
     }
     return copy_int64(0);
 #else
