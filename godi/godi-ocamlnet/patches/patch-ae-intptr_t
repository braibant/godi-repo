--- ./src/netsys/netsys_c_htab.c
+++ ./src/netsys/netsys_c_htab.c
@@ -4,6 +4,7 @@
 #include <stdlib.h>
 #include <errno.h>
 #include <string.h>
+#include <stdint.h>
 
 /* Define an FNV-1 hash function
    (see http://en.wikipedia.org/wiki/Fowler_Noll_Vo_hash)
@@ -35,12 +36,12 @@
 
 static void netsys_htab_add_1(struct htab *t, void *a1, void *a2)
 {
-    unsigned long i1, h1, size;
+    uintptr_t i1, h1, size;
     struct htab_cell *table;
 
     table = t->table;
     size = t->table_size;
-    i1 = (unsigned long) a1;
+    i1 = (uintptr_t) a1;
     h1 = H(i1, size);
     while (table[h1].orig_addr != NULL) {
         h1++;
@@ -134,12 +135,12 @@
 int netsys_htab_lookup(struct htab *t, 
                        void *a1, void **a2p)
 {
-    unsigned long i1, h1, size;
+    uintptr_t i1, h1, size;
     struct htab_cell *table;
 
     table = t->table;
     size = t->table_size;
-    i1 = (unsigned long) a1;
+    i1 = (uintptr_t) a1;
     h1 = H(i1, size);
     while (table[h1].orig_addr != NULL && table[h1].orig_addr != a1) {
         h1++;
