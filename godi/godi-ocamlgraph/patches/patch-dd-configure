--- configure.orig	2013-04-17 18:30:17.000000000 +0000
+++ configure	2013-08-01 20:44:11.168200000 +0000
@@ -1683,6 +1683,16 @@
 
 
 
+
+case `uname -s` in
+     CYGW*)
+       USE_CYGPATH=yes
+       ;;
+     *)
+       USE_CYGPATH=no
+       ;;
+esac
+
 # Check for Ocaml compilers
 
 # we first look for ocamlc in the path; if not present, we fail
@@ -1742,6 +1752,9 @@
 # OCAMLLIB=`$OCAMLC -v | tail -n 1 | cut -f 4 -d " "`
 # OCAMLLIB=`$OCAMLC -v | tail -n 1 | sed -e 's|[[^:]]*: \(.*\)|\1|' `
 OCAMLLIB=`$OCAMLC -where | tr -d '\r'`
+if test "$USE_CYGPATH" = yes ; then
+   OCAMLLIB=`cygpath -m "$OCAMLLIB"`
+fi
 echo "ocaml library path is $OCAMLLIB"
 
 # then we look for ocamlopt; if not present, we issue a warning
@@ -2246,6 +2259,9 @@
    echo "No ocamlfind detected"
 else
    OCAMLLIB_BY_FINDLIB=`ocamlfind query stdlib | tr -d '\\r'`
+   if test "$USE_CYGPATH" = yes ; then
+      OCAMLLIB_BY_FINDLIB=`cygpath -m "$OCAMLLIB_BY_FINDLIB"`
+   fi
    if test "$OCAMLLIB_BY_FINDLIB" = "$OCAMLLIB" ; then
       echo "OCamlfind detected and enabled"
    else
@@ -2269,7 +2285,7 @@
   LABLGTK_PATH=+lablgtk2
   LABLGTKPATH_FOR_CONFIGURE=$OCAMLLIB/lablgtk2
 else
-  LABLGTK_PATH=`ocamlfind query lablgtk2 | tr -d '\\r\\n'`
+  LABLGTK_PATH=`ocamlfind query lablgtk2 | tr -d '\\r\\n' | tr '\\' '/' `
   if test "$LABLGTK_PATH" = ""  -o "$LABLGTK_PATH" -ef "$OCAMLLIB/lablgtk2" ; \
   then
      LABLGTK_PATH=+lablgtk2
