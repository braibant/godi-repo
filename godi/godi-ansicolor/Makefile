# This file was automatically generated by GODIVA
.include "../../mk/bsd.prefs.mk"

VERSION=        0.5
PKGNAME=        godi-ansicolor-${VERSION}
PKGREVISION=    0
DISTNAME=       ansicolor-0.5
DISTFILES=      ansicolor-0.5.tar.gz
CATEGORIES=     godi
MASTER_SITES=   http://projects.phauna.org/ansicolor/release/
MAINTAINER=     Owen Gunden <ogunden@phauna.org>
HOMEPAGE=       http://projects.phauna.org/ansicolor/
COMMENT=        Simple ANSI terminal color library.

# confopt defaults:


AUTOGENERATE_PLIST = yes
PKG  =          godi-ansicolor
MAKE_FLAGS=     PREFIX=${PREFIX} LIBDIR=${PREFIX}/lib BINDIR=${PREFIX}/bin MANDIR=${PREFIX}/man 
DEPENDS+= godi-ocaml>=3.08:../../godi/godi-ocaml
BUILD_DEPENDS+= godi-ocamlmakefile-[0-9]*:../../godi/godi-ocamlmakefile
BUILD_DEPENDS+= godi-findlib-[0-9]*:../../godi/godi-findlib

# HAS_CONFIGURE = yes

USE_GMAKE = yes

MAKE_ENV+=  ${BUILD_OCAMLFIND_ENV} PKGBASE=${PKGBASE:Q}

pre-configure-copy:
.	if exists(files)
	    cd files && ${PAX} -rw -pp . ${WRKSRC}
.	endif

pre-configure: pre-configure-copy

pre-install-mkdirs:
.	for d in bin lib/ocaml/pkg-lib doc share man etc info sbin include
	    ${_PKG_SILENT}${_PKG_DEBUG}mkdir -p ${PREFIX}/${d}
.	endfor
.	for n in 1 2 3 4 5 6 7 8 9
	    ${_PKG_SILENT}${_PKG_DEBUG}mkdir -p ${PREFIX}/man/man${n}
.	endfor

pre-install: pre-install-mkdirs

ALL_TARGET=     all
.if ${GODI_HAVE_OCAMLOPT} == "yes"
ALL_TARGET+= opt
.endif

post-install:
	mkdir -p ${PREFIX}/doc/${PKG}
.	for DOC in COPYING
	    install -m 0644 ${WRKSRC}/${DOC} ${PREFIX}/doc/${PKG}
.	endfor

.include "../../mk/bsd.pkg.mk"
