--- setup.ml~	2013-12-16 21:01:47.000000000 +0000
+++ setup.ml	2014-01-08 17:54:37.517600000 +0000
@@ -6852,9 +6852,14 @@
 # 6853 "setup.ml"
 (* OASIS_STOP *)
 
+
+let pcre_config () = match Sys.os_type with
+| "Win32" | "Win64" | "Cygwin" -> "sh pcre-config"
+|_ -> "pcre-config"
+
 let pcre_config =
   BaseEnv.var_define
-    "with_pcre_config" (fun () -> "pcre-config")
+    "with_pcre_config" pcre_config
     ~cli:BaseEnv.CLIAuto
     ~arg_help:" Full path to pcre-config executable"
 
